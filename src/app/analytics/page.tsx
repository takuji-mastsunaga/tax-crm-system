"use client"; import { useSession } from "next-auth/react"; import { useRouter } from "next/navigation"; import { useEffect } from "react"; import AnalyticsDashboard from "@/components/AnalyticsDashboard"; export default function AnalyticsPage() { const { data: session, status } = useSession(); const router = useRouter(); useEffect(() => { if (status === "unauthenticated") { router.push("/auth/signin"); } }, [status, router]); if (status === "loading") { return ( <div className="min-h-screen bg-gray-50 flex items-center justify-center"> <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div> </div> ); } if (!session) { return null; } return ( <div className="min-h-screen bg-gray-50"> <header className="bg-white shadow-sm border-b"> <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"> <div className="flex justify-between items-center py-4"> <div className="flex items-center space-x-4"> <button onClick={() => router.push("/")} className="text-blue-600 hover:text-blue-800"> ← 顧客管理に戻る </button> <h1 className="text-2xl font-bold text-gray-900">分析ダッシュボード</h1> </div> <div className="flex items-center space-x-4"> <div className="text-sm text-gray-600"> {session.user?.name}さん </div> </div> </div> </div> </header> <main className="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"> <div className="px-4 py-6 sm:px-0"> <div className="mb-6"> <h2 className="text-xl font-semibold text-gray-900 mb-2">顧客データ分析</h2> <p className="text-gray-600">税務CRMシステムの顧客データに基づく分析結果を表示します。</p> </div> <AnalyticsDashboard /> </div> </main> </div> ); }
